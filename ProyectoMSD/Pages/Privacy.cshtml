@page
@model PrivacyModel
@{
    ViewData["Title"] = "Política de Privacidad - MySmartDevice";
}

@section Styles {
    <link href="~/css/pages/privacy.css" rel="stylesheet" />
}

<div class="privacy-container">
    <div class="hero-section">
        <h1 class="privacy-title">@ViewData["Title"]</h1>
        <p class="privacy-subtitle">Su privacidad y seguridad son nuestra máxima prioridad</p>
        <div class="last-update">
            <span class="update-label">Última actualización:</span>
            <span class="update-date">@DateTime.Now.ToString("dd/MM/yyyy")</span>
        </div>
    </div>

    <div class="privacy-content">
        <!-- Resumen ejecutivo -->
        <section class="privacy-section summary-section">
            <div class="section-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h2>Resumen de Privacidad</h2>
            <div class="summary-grid">
                <div class="summary-item">
                    <h4>Datos que Recopilamos</h4>
                    <p>Información de dispositivos, patrones de uso, datos ambientales y configuraciones domóticas</p>
                </div>
                <div class="summary-item">
                    <h4>Cómo los Usamos</h4>
                    <p>Optimización automática, análisis predictivo y mejora de la experiencia domótica</p>
                </div>
                <div class="summary-item">
                    <h4>Su Control</h4>
                    <p>Acceso completo, modificación y eliminación de todos sus datos en cualquier momento</p>
                </div>
            </div>
        </section>

        <!-- Responsable del tratamiento -->
        <section class="privacy-section">
            <h2><i class="fas fa-building"></i> Responsable del Tratamiento</h2>
            <div class="company-info">
                <div class="info-grid">
                    <div class="info-item">
                        <strong>Empresa:</strong> MySmartDevice Solutions, M.S.D.S
                    </div>
                    <div class="info-item">
                        <strong>CIF:</strong> B-12345678
                    </div>
                    <div class="info-item">
                        <strong>Dirección:</strong> Sena Salitre, Ambiente 15, 16421  Bogota, Colombia
                    </div>
                    <div class="info-item">
                        <strong>Email DPO:</strong> privacidad@mysmartdevice.com
                    </div>
                </div>
            </div>
        </section>

        <!-- Datos específicos IoT -->
        <section class="privacy-section iot-section">
            <h2><i class="fas fa-microchip"></i> Datos de Dispositivos IoT</h2>

            <div class="data-category">
                <h3>Datos de Sensores Ambientales</h3>
                <ul class="data-list">
                    <li><strong>Temperatura y Humedad:</strong> Para optimización climática automática</li>
                    <li><strong>Luminosidad:</strong> Control inteligente de iluminación</li>
                    <li><strong>Movimiento y Presencia:</strong> Automatización basada en ocupación</li>
                    <li><strong>Calidad del Aire:</strong> Monitoreo y purificación automática</li>
                </ul>
            </div>

            <div class="data-category">
                <h3>Datos de Consumo Energético</h3>
                <ul class="data-list">
                    <li><strong>Consumo Eléctrico:</strong> Análisis y optimización energética</li>
                    <li><strong>Patrones de Uso:</strong> Predicción de demanda y automatización</li>
                    <li><strong>Eficiencia de Dispositivos:</strong> Mantenimiento predictivo</li>
                </ul>
            </div>

            <div class="data-category">
                <h3>Datos de Seguridad</h3>
                <ul class="data-list">
                    <li><strong>Accesos y Cierres:</strong> Historial de puertas y ventanas</li>
                    <li><strong>Sistemas de Alarma:</strong> Estados y activaciones</li>
                    <li><strong>Videovigilancia:</strong> Grabaciones locales encriptadas (nunca en cloud)</li>
                </ul>
            </div>
        </section>

        <!-- Base legal -->
        <section class="privacy-section legal-section">
            <h2><i class="fas fa-balance-scale"></i> Base Legal del Tratamiento</h2>
            <div class="legal-grid">
                <div class="legal-item">
                    <h4>Ejecución del Contrato</h4>
                    <p>Procesamiento necesario para la prestación de servicios domóticos contratados</p>
                </div>
                <div class="legal-item">
                    <h4>Interés Legítimo</h4>
                    <p>Mejora de servicios, seguridad de la plataforma y prevención de fraudes</p>
                </div>
                <div class="legal-item">
                    <h4>Consentimiento Explícito</h4>
                    <p>Para análisis avanzados, marketing personalizado y funciones opcionales</p>
                </div>
            </div>
        </section>

        <!-- Retención de datos -->
        <section class="privacy-section retention-section">
            <h2><i class="fas fa-clock"></i> Retención de Datos</h2>

            <div class="retention-table">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Tipo de Dato</th>
                            <th>Período de Retención</th>
                            <th>Propósito</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Datos de Cuenta</td>
                            <td>Mientras la cuenta esté activa + 3 años</td>
                            <td>Cumplimiento legal y fiscal</td>
                        </tr>
                        <tr>
                            <td>Datos de Sensores</td>
                            <td>24 meses (agregados), 3 meses (granulares)</td>
                            <td>Análisis histórico y optimización</td>
                        </tr>
                        <tr>
                            <td>Logs de Seguridad</td>
                            <td>12 meses</td>
                            <td>Investigación de incidentes</td>
                        </tr>
                        <tr>
                            <td>Datos de Videovigilancia</td>
                            <td>30 días (local únicamente)</td>
                            <td>Seguridad del hogar</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Transferencias internacionales -->
        <section class="privacy-section transfer-section">
            <h2><i class="fas fa-globe"></i> Transferencias de Datos</h2>

            <div class="transfer-info">
                <div class="transfer-item">
                    <h4><i class="fas fa-server"></i> Servidores Principales</h4>
                    <p><strong>Ubicación:</strong> LAN (Bogota, Colombia)</p>
                    <p><strong>Proveedor:</strong> AWS CO (Bogota) - Certificación ISO 27001</p>
                </div>

                <div class="transfer-item">
                    <h4><i class="fas fa-shield-alt"></i> Respaldo de Seguridad</h4>
                    <p><strong>Ubicación:</strong> United States (California)</p>
                    <p><strong>Salvaguardas:</strong> Cláusulas Contractuales Tipo de la US</p>
                </div>

                <div class="no-transfer">
                    <p><strong>⚠️ Importante:</strong> Nunca transferimos datos a países fuera del Colombia.</p>
                </div>
            </div>
        </section>

        <!-- Contacto y reclamaciones -->
        <section class="privacy-section contact-section">
            <h2><i class="fas fa-envelope"></i> Contacto y Reclamaciones</h2>

            <div class="contact-grid">
                <div class="contact-item">
                    <h4>Delegado de Protección de Datos</h4>
                    <p><strong>Email:</strong> Elvorax@mysmartdevice.com</p>
                    <p><strong>Teléfono:</strong> +57 3143284052</p>
                </div>

                <div class="contact-item">
                    <h4>Autoridad de Control</h4>
                    <p><strong>AEPD:</strong> www.aepd.es</p>
                    <p><strong>Teléfono:</strong> 3143284052</p>
                </div>
            </div>

            <div class="response-time">
                <p><strong>Tiempo de respuesta:</strong> Máximo 30 días para consultas de privacidad</p>
            </div>
        </section>

        <!-- Menores de edad -->
        <section class="privacy-section minors-section">
            <h2><i class="fas fa-child"></i> Protección de Menores</h2>
            <div class="minors-content">
                <p>MySmartDevice no recopila conscientemente datos personales de menores de 14 años. Si un padre o tutor descubre que su hijo nos ha proporcionado datos personales, debe contactarnos inmediatamente para su eliminación.</p>
                <div class="age-verification">
                    <p><strong>Verificación de Edad:</strong> Implementamos controles técnicos para verificar la edad durante el registro</p>
                </div>
            </div>
        </section>
    </div>
</div>
